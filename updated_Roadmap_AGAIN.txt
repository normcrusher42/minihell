âœ… Already Implemented
Prompt & history â†’ readline, add_history, clear_history are in place (main.c).
Environment setup â†’ dup_env, update_shlvl, env_utils.c functions handle envp.
Signals â†’ init_signals, handle_sigint, handle_sigquit, disable_echoctl (signals.c) handle Ctrl-C, Ctrl-.
Quoting â†’ remove_quotes, quote tracking in tokenizer & expander.
Variable expansion â†’ $VAR + $? (expander.c + token_process.c).
Builtins â†’ All 7 required ones exist:
echo -n, cd, pwd, export, unset, env, exit (checked in executor.c and headers).
Command parsing â†’ tokenizer.c + cmd_table.c convert input to command/args + redirections.
Basic command execution â†’ execute_command forks and runs either builtins or execve.

âŒ Missing / Incomplete (must finish before submission)
Pipelines (|)
run_pipeline() in driver.c is just a stub:
ft_putendl_fd("pipeline execution not implemented yet", 2);
Needs real pipe creation, dup2 redirection, child forking, and chaining.
Redirections (<, >, >>, <<)
Parser collects them (cmd_table.c â†’ push_redir),
But execution logic is missing: no open(), dup2() handling for infile/outfile.
Heredoc (<<) isnâ€™t implemented (reading until delimiter, handling quoted delimiters).
PATH resolution
execve currently tries sh->cmds->av[0] directly.
Must implement a search in $PATH (like which), otherwise ls etc. wonâ€™t work.
Exit status propagation
$? expansion is handled, but pipeline/builtin/exec errors need consistent updating of g_last_status.
Ctrl-D
In main.c, if (!shell.input) break; just exits silently.
Subject requires printing exit before quitting.
Error messages
Syntax errors partly handled (cmd_table.c â†’ syntax_err),
But edge cases (unclosed quotes, invalid redirections, export/unset errors) should match bash behavior.
Memory management
Many allocations/freeing are present, but leaks may remain around token â†’ cmd conversion & heredoc.
Must pass Valgrind (except known readline leaks).


ğŸ“… Two-Week Minishell Roadmap (Final Version)

Week 1 â€” Core Execution Features
ğŸ—“ Day 1â€“2
ğŸ¤ Pika â€” PATH Resolution
Implement find_command_path():
If cmd contains /, try execve directly.
Else, iterate $PATH (split by :).
Handle errors:
not found â†’ 127
permission denied â†’ 126.
Integrate into execute_command().
ğŸ«˜ Beans â€” Ctrl-D & Exit Status Polish
On !readline, print "exit\n" before quitting.
Ensure g_last_status always updates (parse errors, builtin errors, exec fails, etc.).

ğŸ—“ Day 3â€“4
ğŸ¤ Pika â€” Redirections (basic)
Create apply_redirections(t_cmd*):
< â†’ open(..., O_RDONLY)
> â†’ open(..., O_WRONLY|O_CREAT|O_TRUNC, 0644)
>> â†’ open(..., O_WRONLY|O_CREAT|O_APPEND, 0644)
Apply inside child before execve.
On error â†’ print message + _exit(1) or 126.
ğŸ«˜ Beans â€” Pipeline Skeleton
Flesh out run_pipeline():
Loop commands, create pipe() for i < n-1.
Child i: dup2(prev_read, 0) if i > 0; dup2(pipe_write, 1) if i < n-1.
Parent closes unused fds and waits.
For now, no redirs.

ğŸ—“ Day 5â€“6
ğŸ¤ Pika â€” Heredoc Reader
Implement heredoc collection:
Read until delimiter (exact match).
Quoted delimiter â†’ no expansion.
Unquoted delimiter â†’ allow expansion (to handle later).
Ctrl-C aborts heredoc, set status 130.
Donâ€™t add heredoc lines to history.
ğŸ«˜ Beans â€” Redirections + Pipes Integration
Call apply_redirections() in pipeline children.
Enforce â€œlast redir winsâ€.
Integrate heredoc â†’ stdin comes from heredoc pipe when present.

ğŸ—“ Day 7
ğŸ¤ Both â€” Mid-week Integration
Test simple cases:
cat < infile
echo hi > out
echo hi >> out
cat < infile | wc -l
cat <<EOF | wc -l

Week 2 â€” Edge Cases & Polishing
ğŸ—“ Day 8â€“9
ğŸ«˜ Beans â€” Syntax & Error Handling
Detect and handle syntax errors:
> out ls â†’ 258.
cat | | wc â†’ 258.
Unclosed quotes â†’ 258.
Match bash-like error messages (minishell: <cmd>: <msg>).
ğŸ¤ Pika â€” Exit/Builtin Behaviors
exit N â†’ exit with code N.
exit abc â†’ error, status 255.
exit with too many args â†’ error, donâ€™t exit, return 1.
Ensure builtin return codes align with bash.

ğŸ—“ Day 10â€“11
ğŸ¤ Pika â€” Signals in Children
In forked child: restore default SIGINT/QUIT.
Parent keeps readline handler.
Confirm exit codes â†’ 128+sig.
ğŸ«˜ Beans â€” Stress Testing / Edge Inputs
Long pipelines: echo a | echo b | echo c ...
Weird redirs: echo "" | wc, <<<, etc.
Ensure no segfaults or leaks.

ğŸ—“ Day 12â€“13
ğŸ¤ Both â€” Final Feature Polishing
Builtins inside pipelines (cd / | pwd).
Double-check redirection precedence.
Fix any regressions found in stress tests.

ğŸ—“ Day 14 â€” Full Defense Rehearsal
ğŸ¤ Both Together
One giant test session:
Prompt + history.
Signals (Ctrl-C, Ctrl-D, Ctrl-).
All 7 builtins (echo, cd, pwd, export, unset, env, exit).
Quotes and expansions ($VAR, $?).
Redirs <, >, >>.
Pipelines (cmd1 | cmd2 | cmd3).
Heredoc (<<).
Run with Valgrind â†’ no leaks (ignore readline).
Norminette â†’ pass all files.
Remove debug prints (print_cmd_table).
Push final code.
